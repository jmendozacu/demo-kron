<?xml version="1.0"?>
<config>
    <modules>
        <Ebizmarts_BakerlooRestful>
            <version>1.5.9</version>
        </Ebizmarts_BakerlooRestful>
    </modules>
    <default>
        <bakerloorestful>
            <general>
                <enabled>0</enabled>
                <debug>0</debug>
                <api_key></api_key>
                <filesmode_bypass>1</filesmode_bypass>
                <filter_customers>1</filter_customers>
                <simple_configurable_prices>0</simple_configurable_prices>
            </general>
            <catalog>
                <description>description</description>
                <product_code>barcode</product_code>
                <deltas_pagesize>50</deltas_pagesize>
                <always_in_stock>0</always_in_stock>
                <subtract_inventory>0</subtract_inventory>
                <show_savings_badge>1</show_savings_badge>
                <simple_tap_addtobasket>1</simple_tap_addtobasket>
                <allow_backorders>0</allow_backorders>
            </catalog>
            <checkout>
                <newsletter_subscribe_checked>0</newsletter_subscribe_checked>
                <create_customer>1</create_customer>
            </checkout>
            <pos_coupon>
                <receipts>magento</receipts>
                <identity>sales</identity>
                <template>bakerloorestful_pos_coupon_template</template>
            </pos_coupon>
            <pos_receipt>
                <receipts>magento</receipts>
                <identity>sales</identity>
                <template>bakerloorestful_pos_receipt_template</template>
            </pos_receipt>
            <new_customer_account>
                <allow_customer_group_selection>1</allow_customer_group_selection>
                <send_welcome_email>0</send_welcome_email>
                <identity>support</identity>
                <template>bakerloorestful_new_customer_account_template</template>
                <confirmation_template>bakerloorestful_new_customer_account_confirmation_template</confirmation_template>
            </new_customer_account>
            <!-- Product default data -->
            <product>
                <imagesizes>
                    <medium><![CDATA[914x914]]></medium>
                    <small><![CDATA[320x320]]></small>
                    <xsmall><![CDATA[100x100]]></xsmall>
                </imagesizes>
            </product>
        </bakerloorestful>
    </default>
    <global>
        <blocks>
            <bakerloo_restful>
                <class>Ebizmarts_BakerlooRestful_Block</class>
            </bakerloo_restful>
        </blocks>
        <helpers>
            <bakerloo_restful>
                <class>Ebizmarts_BakerlooRestful_Helper</class>
            </bakerloo_restful>
        </helpers>
        <models>
            <bakerloo_restful>
                <class>Ebizmarts_BakerlooRestful_Model</class>
                <resourceModel>bakerloo_restful_mysql4</resourceModel>
            </bakerloo_restful>
            <bakerloo_restful_mysql4>
                <class>Ebizmarts_BakerlooRestful_Model_Mysql4</class>
                <entities>
                    <debug>
                        <table>bakerloo_restful_debug</table>
                    </debug>
                    <order>
                        <table>bakerloo_restful_orders</table>
                    </order>
                    <catalogtrash>
                        <table>bakerloo_restful_catalogtrash</table>
                    </catalogtrash>
                    <customertrash>
                        <table>bakerloo_restful_customertrash</table>
                    </customertrash>
                    <inventorydelta>
                        <table>bakerloo_restful_inventory_deltas</table>
                    </inventorydelta>
                    <notification>
                        <table>bakerloo_restful_notifications</table>
                    </notification>
                    <notificationstore>
                        <table>bakerloo_restful_notifications_store</table>
                    </notificationstore>
                    <discount>
                        <table>bakerloo_restful_discounts</table>
                    </discount>
                    <discountstore>
                        <table>bakerloo_restful_discounts_stores</table>
                    </discountstore>
                </entities>
            </bakerloo_restful_mysql4>
            <cataloginventory>
                <rewrite>
                    <stock_item>Ebizmarts_BakerlooRestful_Model_Rewrite_CatalogInventory_Stock_Item</stock_item>
                </rewrite>
            </cataloginventory>
        </models>
        <resources>
            <bakerloo_restful_setup>
                <setup>
                    <module>Ebizmarts_BakerlooRestful</module>
                    <class>Mage_Eav_Model_Entity_Setup</class>
                </setup>
            </bakerloo_restful_setup>
        </resources>
        <ignoredModules> <!-- To avoid Mage_Log to slow down things -->
            <entities>
                <bakerloo_restful />
            </entities>
        </ignoredModules>
        <fieldsets>
            <sales_convert_quote_item>
                <pos_discount_reason><to_order_item>*</to_order_item></pos_discount_reason>
            </sales_convert_quote_item>
            <sales_convert_order_item>
                <pos_discount_reason><to_quote_item>*</to_quote_item></pos_discount_reason>
            </sales_convert_order_item>
        </fieldsets>
        <events>
            <sales_order_place_after>
                <observers>
                    <bakerloo_restful_inventory_monitor>
                        <class>bakerloo_restful/observer_catalog</class>
                        <method>inventoryNewOrder</method>
                    </bakerloo_restful_inventory_monitor>
                </observers>
            </sales_order_place_after>
            <sales_order_creditmemo_refund>
                <observers>
                    <bakerloo_restful_inventory_monitor>
                        <class>bakerloo_restful/observer_catalog</class>
                        <method>inventoryNewCreditMemo</method>
                    </bakerloo_restful_inventory_monitor>
                </observers>
            </sales_order_creditmemo_refund>
            <sales_order_item_cancel>
                <observers>
                    <bakerloo_restful_inventory_monitor>
                        <class>bakerloo_restful/observer_catalog</class>
                        <method>inventoryOrderItemCancel</method>
                    </bakerloo_restful_inventory_monitor>
                </observers>
            </sales_order_item_cancel>
        </events>
        <template>
            <email>
                <bakerloorestful_pos_receipt_template translate="label" module="bakerloo_restful">
                    <label>POS Receipt</label>
                    <file>pos/receipt.html</file>
                    <type>html</type>
                </bakerloorestful_pos_receipt_template>
                <bakerloorestful_pos_coupon_template translate="label" module="bakerloo_restful">
                    <label>POS Coupon</label>
                    <file>pos/coupon.html</file>
                    <type>html</type>
                </bakerloorestful_pos_coupon_template>
                <bakerloorestful_new_customer_account_template translate="label" module="bakerloo_restful">
                    <label>POS Customer Welcome</label>
                    <file>pos/customer_welcome.html</file>
                    <type>html</type>
                </bakerloorestful_new_customer_account_template>
                <bakerloorestful_new_customer_account_confirmation_template translate="label" module="bakerloo_restful">
                    <label>POS Customer Welcome confirmation key</label>
                    <file>pos/customer_welcome_confirmation.html</file>
                    <type>html</type>
                </bakerloorestful_new_customer_account_confirmation_template>
            </email>
        </template>
    </global>
    <adminhtml>
        <translate>
            <modules>
                <Ebizmarts_BakerlooRestful>
                    <files>
                        <default>Ebizmarts_BakerlooRestful.csv</default>
                    </files>
                </Ebizmarts_BakerlooRestful>
            </modules>
        </translate>
        <layout>
            <updates>
                <bakerloo_restful>
                    <file>bakerloo_restful.xml</file>
                </bakerloo_restful>
            </updates>
        </layout>
        <events>
            <core_block_abstract_to_html_before>
                <observers>
                    <bakerloo_restful_clearCategoryImageCacheButton>
                        <type>model</type>
                        <class>bakerloo_restful/observer</class>
                        <method>clearCategoryImageCacheButton</method>
                    </bakerloo_restful_clearCategoryImageCacheButton>
                </observers>
            </core_block_abstract_to_html_before>
            <customer_delete_after>
                <observers>
                    <bakerloo_restful_customerDelete>
                        <type>model</type>
                        <class>bakerloo_restful/observer_customer</class>
                        <method>customerDeleted</method>
                    </bakerloo_restful_customerDelete>
                </observers>
            </customer_delete_after>
            <catalog_product_delete_after_done>
                <observers>
                    <bakerloo_restful_productDelete>
                        <type>model</type>
                        <class>bakerloo_restful/observer_catalog</class>
                        <method>productDelete</method>
                    </bakerloo_restful_productDelete>
                </observers>
            </catalog_product_delete_after_done>
            <catalog_product_prepare_save>
                <observers>
                    <bakerloo_restful_productPreSave>
                        <type>model</type>
                        <class>bakerloo_restful/observer_catalog</class>
                        <method>productPreSave</method>
                    </bakerloo_restful_productPreSave>
                </observers>
            </catalog_product_prepare_save>
            <catalog_product_save_after>
                <observers>
                    <bakerloo_restful_productSave>
                        <type>model</type>
                        <class>bakerloo_restful/observer_catalog</class>
                        <method>productSave</method>
                    </bakerloo_restful_productSave>
                </observers>
            </catalog_product_save_after>
        </events>
    </adminhtml>
    <admin>
        <routers>
            <adminhtml>
                <args>
                    <modules>
                        <bakerloo_restful before="Mage_Adminhtml">Ebizmarts_BakerlooRestful_Adminhtml</bakerloo_restful>
                    </modules>
                </args>
            </adminhtml>
        </routers>
    </admin>
    <frontend>
<!--        <secure_url>
            <bakerloo_restful_endpoint>/bakerloo_restful</bakerloo_restful_endpoint>
        </secure_url>-->
        <routers>
            <bakerloo_restful>
                <use>standard</use>
                <args>
                    <module>Ebizmarts_BakerlooRestful</module>
                    <frontName>pos</frontName>
                </args>
            </bakerloo_restful>
        </routers>
        <enterprise>
            <websiterestriction>
                <full_action_names>
                    <generic>
                        <bakerloo_restful_index_index/>
                        <bakerloo_restful_catalog_image/>
                    </generic>
                </full_action_names>
            </websiterestriction>
        </enterprise>
        <comingsoon>
            <public_actions>
                <bakerloo_restful_index_index/>
                <bakerloo_restful_catalog_image/>
            </public_actions>
        </comingsoon>
        <events>
            <!--controller_action_predispatch>
                <observers>
                    <profilerequestpre>
                        <class>bakerloo_restful/observer</class>
                        <method>profilePre</method>
                    </profilerequestpre>
                </observers>
            </controller_action_predispatch>
            <controller_action_postdispatch>
                <observers>
                    <profilerequestpost>
                        <class>bakerloo_restful/observer</class>
                        <method>profilePost</method>
                    </profilerequestpost>
                </observers>
            </controller_action_postdispatch-->
            <http_response_send_before>
                <observers>
                    <bakerloo_response_debug>
                        <class>bakerloo_restful/observer</class>
                        <method>httpResponseDebug</method>
                    </bakerloo_response_debug>
                </observers>
            </http_response_send_before>
        </events>
    </frontend>
</config>
